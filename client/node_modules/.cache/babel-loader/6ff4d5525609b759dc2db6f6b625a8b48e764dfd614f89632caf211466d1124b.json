{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import api from'../api';import'./styles.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(_ref){let{isAuthenticated,setIsAuthenticated}=_ref;const[user,setUser]=useState(null);const navigate=useNavigate();useEffect(()=>{const checkUser=async()=>{try{const response=await api.get('/auth/check');setUser(response.data.user);// Set the logged-in user\n}catch(err){console.error('Error checking user:',err);setUser(null);}};checkUser();},[]);const handleLogout=async()=>{try{await api.post('/auth/logout');setUser(null);// Reset the user state\nsetIsAuthenticated(false);// Update the global isAuthenticated state\nnavigate('/');// Redirect to the landing page\n}catch(err){console.error('Error during logout:',err);}};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-left\",children:[/*#__PURE__*/_jsx(Link,{to:isAuthenticated?\"/manager-dashboard\":\"/\",className:\"nav-link\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/events\",className:\"nav-link\",children:\"View All Events\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-right\",children:isAuthenticated?/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"}):/*#__PURE__*/_jsx(Link,{to:\"/login?role=manager\",className:\"nav-link\",children:\"Login\"})})]});}export default Navbar;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","api","jsx","_jsx","jsxs","_jsxs","Navbar","_ref","isAuthenticated","setIsAuthenticated","user","setUser","navigate","checkUser","response","get","data","err","console","error","handleLogout","post","className","children","to","onClick"],"sources":["/Users/ahamedfoisal/Documents/GitHub/final-project-ahamedfoisal/client/src/components/NavBar.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport './styles.css';\n\nfunction Navbar({ isAuthenticated, setIsAuthenticated }) {\n  const [user, setUser] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const checkUser = async () => {\n      try {\n        const response = await api.get('/auth/check');\n        setUser(response.data.user); // Set the logged-in user\n      } catch (err) {\n        console.error('Error checking user:', err);\n        setUser(null);\n      }\n    };\n    checkUser();\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await api.post('/auth/logout');\n      setUser(null); // Reset the user state\n      setIsAuthenticated(false); // Update the global isAuthenticated state\n      navigate('/'); // Redirect to the landing page\n    } catch (err) {\n      console.error('Error during logout:', err);\n    }\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"nav-left\">\n        <Link to={isAuthenticated ? \"/manager-dashboard\" : \"/\"} className=\"nav-link\">\n          Home\n        </Link>\n        <Link to=\"/events\" className=\"nav-link\">View All Events</Link>\n      </div>\n      <div className=\"nav-right\">\n        {isAuthenticated ? (\n          <button onClick={handleLogout} className=\"logout-button\">Logout</button>\n        ) : (\n          <Link to=\"/login?role=manager\" className=\"nav-link\">Login</Link>\n        )}\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtB,QAAS,CAAAC,MAAMA,CAAAC,IAAA,CAA0C,IAAzC,CAAEC,eAAe,CAAEC,kBAAmB,CAAC,CAAAF,IAAA,CACrD,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAAc,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,GAAG,CAACc,GAAG,CAAC,aAAa,CAAC,CAC7CJ,OAAO,CAACG,QAAQ,CAACE,IAAI,CAACN,IAAI,CAAC,CAAE;AAC/B,CAAE,MAAOO,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEF,GAAG,CAAC,CAC1CN,OAAO,CAAC,IAAI,CAAC,CACf,CACF,CAAC,CACDE,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAnB,GAAG,CAACoB,IAAI,CAAC,cAAc,CAAC,CAC9BV,OAAO,CAAC,IAAI,CAAC,CAAE;AACfF,kBAAkB,CAAC,KAAK,CAAC,CAAE;AAC3BG,QAAQ,CAAC,GAAG,CAAC,CAAE;AACjB,CAAE,MAAOK,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEF,GAAG,CAAC,CAC5C,CACF,CAAC,CAED,mBACEZ,KAAA,QAAKiB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBlB,KAAA,QAAKiB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBpB,IAAA,CAACJ,IAAI,EAACyB,EAAE,CAAEhB,eAAe,CAAG,oBAAoB,CAAG,GAAI,CAACc,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,MAE7E,CAAM,CAAC,cACPpB,IAAA,CAACJ,IAAI,EAACyB,EAAE,CAAC,SAAS,CAACF,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,iBAAe,CAAM,CAAC,EAC3D,CAAC,cACNpB,IAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAC,QAAA,CACvBf,eAAe,cACdL,IAAA,WAAQsB,OAAO,CAAEL,YAAa,CAACE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,cAExEpB,IAAA,CAACJ,IAAI,EAACyB,EAAE,CAAC,qBAAqB,CAACF,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,OAAK,CAAM,CAChE,CACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAjB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}