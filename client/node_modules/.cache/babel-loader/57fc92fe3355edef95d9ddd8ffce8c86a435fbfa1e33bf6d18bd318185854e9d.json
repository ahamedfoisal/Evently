{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';// Import Link for navigation\nimport api from'../api';import'./styles.css';// Import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EventList(){const[events,setEvents]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[filteredEvents,setFilteredEvents]=useState([]);useEffect(()=>{const fetchEvents=async()=>{try{const response=await api.get('/events');if(Array.isArray(response.data)){setEvents(response.data);setFilteredEvents(response.data);// Initialize filteredEvents with all events\n}else{console.error('Unexpected API response format:',response.data);setEvents([]);}}catch(error){console.error('Error fetching events:',error);}};fetchEvents();},[]);const handleSearch=e=>{const searchValue=e.target.value.toLowerCase();setSearchTerm(searchValue);setFilteredEvents(events.filter(event=>event.name.toLowerCase().includes(searchValue)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All Events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search-bar\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search events by name\",value:searchTerm,onChange:handleSearch,className:\"search-input\"})}),filteredEvents.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"event-list\",children:filteredEvents.map(event=>/*#__PURE__*/_jsxs(\"li\",{className:\"event-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:event.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(event.date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",event.time]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",event.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Event by:\"}),\" \",event.createdBy]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total RSVPs:\"}),\" \",Array.isArray(event.guests)?event.guests.length:0]}),/*#__PURE__*/_jsx(Link,{to:`/events/${event._id}`,children:/*#__PURE__*/_jsx(\"button\",{children:\"View Details\"})})]},event._id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No events available or match your search.\"})]});}export default EventList;","map":{"version":3,"names":["React","useEffect","useState","Link","api","jsx","_jsx","jsxs","_jsxs","EventList","events","setEvents","searchTerm","setSearchTerm","filteredEvents","setFilteredEvents","fetchEvents","response","get","Array","isArray","data","console","error","handleSearch","e","searchValue","target","value","toLowerCase","filter","event","name","includes","className","children","type","placeholder","onChange","length","map","Date","date","toLocaleDateString","time","location","createdBy","guests","to","_id"],"sources":["/Users/ahamedfoisal/Documents/GitHub/final-project-ahamedfoisal/client/src/components/EventList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom'; // Import Link for navigation\nimport api from '../api';\nimport './styles.css'; // Import the CSS file\n\nfunction EventList() {\n  const [events, setEvents] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredEvents, setFilteredEvents] = useState([]);\n\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const response = await api.get('/events');\n        if (Array.isArray(response.data)) {\n          setEvents(response.data);\n          setFilteredEvents(response.data); // Initialize filteredEvents with all events\n        } else {\n          console.error('Unexpected API response format:', response.data);\n          setEvents([]);\n        }\n      } catch (error) {\n        console.error('Error fetching events:', error);\n      }\n    };\n\n    fetchEvents();\n  }, []);\n\n  const handleSearch = (e) => {\n    const searchValue = e.target.value.toLowerCase();\n    setSearchTerm(searchValue);\n    setFilteredEvents(\n      events.filter((event) =>\n        event.name.toLowerCase().includes(searchValue)\n      )\n    );\n  };\n\n  return (\n    <div className=\"container\">\n      <h2>All Events</h2>\n\n      {/* Search bar */}\n      <div className=\"search-bar\">\n        <input\n          type=\"text\"\n          placeholder=\"Search events by name\"\n          value={searchTerm}\n          onChange={handleSearch}\n          className=\"search-input\"\n        />\n      </div>\n\n      {filteredEvents.length > 0 ? (\n        <ul className=\"event-list\">\n          {filteredEvents.map((event) => (\n            <li key={event._id} className=\"event-card\">\n              <h3>{event.name}</h3>\n              <p><strong>Date:</strong> {new Date(event.date).toLocaleDateString()}</p>\n              <p><strong>Time:</strong> {event.time}</p>\n              <p><strong>Location:</strong> {event.location}</p>\n              <p><strong>Event by:</strong> {event.createdBy}</p>\n              <p><strong>Total RSVPs:</strong> {Array.isArray(event.guests) ? event.guests.length : 0}</p>\n              <Link to={`/events/${event._id}`}>\n                <button>View Details</button>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>No events available or match your search.</p>\n      )}\n    </div>\n  );\n}\n\nexport default EventList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}