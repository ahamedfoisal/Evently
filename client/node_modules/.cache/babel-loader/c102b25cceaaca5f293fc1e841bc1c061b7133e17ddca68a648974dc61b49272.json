{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import api from'../api';import'./styles.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EditEvent(){const{id}=useParams();// Get event ID from URL\nconst navigate=useNavigate();// For navigation after submission\nconst[name,setName]=useState('');const[date,setDate]=useState('');const[time,setTime]=useState('');const[location,setLocation]=useState('');const[message,setMessage]=useState('');// Fetch event details\nuseEffect(()=>{const fetchEvent=async()=>{try{const response=await api.get(`/events/${id}`);const event=response.data;setName(event.name);setDate(event.date.slice(0,10));// Format date for input[type=\"date\"]\nsetTime(event.time);setLocation(event.location);}catch(error){console.error('Error fetching event:',error);setMessage('Failed to load event details');}};fetchEvent();},[id]);// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();try{const response=await api.put(`/events/${id}`,{name,date,time,location});setMessage('Event updated successfully!');navigate('/manager-dashboard');// Redirect back to dashboard\n}catch(error){console.error('Error updating event:',error);setMessage('Failed to update event');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Event\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Event Name\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:e=>setDate(e.target.value),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:time,onChange:e=>setTime(e.target.value),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Location\",value:location,onChange:e=>setLocation(e.target.value),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Event\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/manager-dashboard'),children:\"Cancel\"})]})]});}export default EditEvent;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","api","jsx","_jsx","jsxs","_jsxs","EditEvent","id","navigate","name","setName","date","setDate","time","setTime","location","setLocation","message","setMessage","fetchEvent","response","get","event","data","slice","error","console","handleSubmit","e","preventDefault","put","className","children","onSubmit","type","placeholder","value","onChange","target","required","onClick"],"sources":["/Users/ahamedfoisal/Documents/GitHub/final-project-ahamedfoisal/client/src/components/EditEvent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport './styles.css';\n\nfunction EditEvent() {\n  const { id } = useParams(); // Get event ID from URL\n  const navigate = useNavigate(); // For navigation after submission\n  const [name, setName] = useState('');\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [location, setLocation] = useState('');\n  const [message, setMessage] = useState('');\n\n  // Fetch event details\n  useEffect(() => {\n    const fetchEvent = async () => {\n      try {\n        const response = await api.get(`/events/${id}`);\n        const event = response.data;\n        setName(event.name);\n        setDate(event.date.slice(0, 10)); // Format date for input[type=\"date\"]\n        setTime(event.time);\n        setLocation(event.location);\n      } catch (error) {\n        console.error('Error fetching event:', error);\n        setMessage('Failed to load event details');\n      }\n    };\n    fetchEvent();\n  }, [id]);\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await api.put(`/events/${id}`, { name, date, time, location });\n      setMessage('Event updated successfully!');\n      navigate('/manager-dashboard'); // Redirect back to dashboard\n    } catch (error) {\n      console.error('Error updating event:', error);\n      setMessage('Failed to update event');\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Edit Event</h1>\n      {message && <p>{message}</p>}\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Event Name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n        />\n        <br />\n        <input\n          type=\"date\"\n          value={date}\n          onChange={(e) => setDate(e.target.value)}\n          required\n        />\n        <br />\n        <input\n          type=\"time\"\n          value={time}\n          onChange={(e) => setTime(e.target.value)}\n          required\n        />\n        <br />\n        <input\n          type=\"text\"\n          placeholder=\"Location\"\n          value={location}\n          onChange={(e) => setLocation(e.target.value)}\n          required\n        />\n        <br />\n        <button type=\"submit\">Update Event</button>\n        <button type=\"button\" onClick={() => navigate('/manager-dashboard')}>Cancel</button>\n      </form>\n    </div>\n  );\n}\n\nexport default EditEvent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}