{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import api from'../api';import'./styles.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EventDetails(){const{id}=useParams();const[event,setEvent]=useState(null);const[rsvpName,setRsvpName]=useState('');const[rsvpEmail,setRsvpEmail]=useState('');const[rsvpStatus,setRsvpStatus]=useState('');const[message,setMessage]=useState('');useEffect(()=>{const fetchEvent=async()=>{try{const response=await api.get(`/events/${id}`);setEvent(response.data);}catch(error){console.error('Error fetching event:',error);}};fetchEvent();},[id]);const handleRsvpSubmit=async e=>{e.preventDefault();try{const response=await api.post(`/events/${id}/rsvp`,{name:rsvpName,email:rsvpEmail,rsvp:rsvpStatus});setMessage('RSVP submitted successfully!');setEvent(response.data.event);// Update event data with new RSVP\nsetRsvpName('');setRsvpEmail('');setRsvpStatus('');}catch(error){console.error('Error submitting RSVP:',error);setMessage('Failed to submit RSVP. Please try again.');}};if(!event)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:event.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(event.date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",event.time]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",event.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Created By:\"}),\" \",event.createdBy]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Guests\"}),/*#__PURE__*/_jsx(\"div\",{className:\"guest-list\",children:Array.isArray(event.guests)&&event.guests.length>0?event.guests.map((guest,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"guest-card\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",guest.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"RSVP:\"}),\" \",guest.rsvp]})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No guests have RSVP'd yet.\"})}),/*#__PURE__*/_jsx(\"h2\",{children:\"RSVP\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRsvpSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your Name\",value:rsvpName,onChange:e=>setRsvpName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Your Email\",value:rsvpEmail,onChange:e=>setRsvpEmail(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"select\",{value:rsvpStatus,onChange:e=>setRsvpStatus(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select RSVP Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Yes\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"No\",children:\"No\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Maybe\",children:\"Maybe\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit RSVP\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]});}export default EventDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","api","jsx","_jsx","jsxs","_jsxs","EventDetails","id","event","setEvent","rsvpName","setRsvpName","rsvpEmail","setRsvpEmail","rsvpStatus","setRsvpStatus","message","setMessage","fetchEvent","response","get","data","error","console","handleRsvpSubmit","e","preventDefault","post","name","email","rsvp","children","className","Date","date","toLocaleDateString","time","location","createdBy","Array","isArray","guests","length","map","guest","index","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["/Users/ahamedfoisal/Documents/GitHub/final-project-ahamedfoisal/client/src/components/EventDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport api from '../api';\nimport './styles.css';\n\nfunction EventDetails() {\n  const { id } = useParams();\n  const [event, setEvent] = useState(null);\n  const [rsvpName, setRsvpName] = useState('');\n  const [rsvpEmail, setRsvpEmail] = useState('');\n  const [rsvpStatus, setRsvpStatus] = useState('');\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    const fetchEvent = async () => {\n      try {\n        const response = await api.get(`/events/${id}`);\n        setEvent(response.data);\n      } catch (error) {\n        console.error('Error fetching event:', error);\n      }\n    };\n\n    fetchEvent();\n  }, [id]);\n\n  const handleRsvpSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await api.post(`/events/${id}/rsvp`, {\n        name: rsvpName,\n        email: rsvpEmail,\n        rsvp: rsvpStatus,\n      });\n      setMessage('RSVP submitted successfully!');\n      setEvent(response.data.event); // Update event data with new RSVP\n      setRsvpName('');\n      setRsvpEmail('');\n      setRsvpStatus('');\n    } catch (error) {\n      console.error('Error submitting RSVP:', error);\n      setMessage('Failed to submit RSVP. Please try again.');\n    }\n  };\n\n  if (!event) return <p>Loading...</p>;\n\n  return (\n    <div className=\"container\">\n      <h1>{event.name}</h1>\n      <p><strong>Date:</strong> {new Date(event.date).toLocaleDateString()}</p>\n      <p><strong>Time:</strong> {event.time}</p>\n      <p><strong>Location:</strong> {event.location}</p>\n      <p><strong>Created By:</strong> {event.createdBy}</p>\n      \n      <h2>Guests</h2>\n      <div className=\"guest-list\">\n        {Array.isArray(event.guests) && event.guests.length > 0 ? (\n          event.guests.map((guest, index) => (\n            <div className=\"guest-card\" key={index}>\n              <p><strong>Name:</strong> {guest.name}</p>\n              <p><strong>RSVP:</strong> {guest.rsvp}</p>\n            </div>\n          ))\n        ) : (\n          <p>No guests have RSVP'd yet.</p>\n        )}\n      </div>\n\n      <h2>RSVP</h2>\n      <form onSubmit={handleRsvpSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Your Name\"\n          value={rsvpName}\n          onChange={(e) => setRsvpName(e.target.value)}\n          required\n        />\n        <input\n          type=\"email\"\n          placeholder=\"Your Email\"\n          value={rsvpEmail}\n          onChange={(e) => setRsvpEmail(e.target.value)}\n          required\n        />\n        <select\n          value={rsvpStatus}\n          onChange={(e) => setRsvpStatus(e.target.value)}\n          required\n        >\n          <option value=\"\">Select RSVP Status</option>\n          <option value=\"Yes\">Yes</option>\n          <option value=\"No\">No</option>\n          <option value=\"Maybe\">Maybe</option>\n        </select>\n        <button type=\"submit\">Submit RSVP</button>\n      </form>\n      {message && <p>{message}</p>}\n    </div>\n  );\n}\n\nexport default EventDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}