{"ast":null,"code":"//client/src/components/SignUp.js\nimport React,{useState}from'react';import{useSearchParams,Link}from'react-router-dom';import api from'../api';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function SignUp(){const[searchParams]=useSearchParams();const role=searchParams.get('role');const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[message,setMessage]=useState('');const[isSignedUp,setIsSignedUp]=useState(false);// State to track signup status\nconst handleSubmit=async e=>{e.preventDefault();try{const response=await api.post('/auth/signup',{name,email,password,role});setMessage('Signup successful! You can now log in.');setIsSignedUp(true);// Mark signup as successful\n}catch(err){var _err$response,_err$response$data;setMessage(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Signup failed');setIsSignedUp(false);// Reset signup status if it fails\n}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Sign Up as \",role]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign Up\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{children:message}),isSignedUp&&/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:`/login?role=${role}`,children:\"Click here to login\"})})]});}export default SignUp;","map":{"version":3,"names":["React","useState","useSearchParams","Link","api","jsxs","_jsxs","jsx","_jsx","SignUp","searchParams","role","get","name","setName","email","setEmail","password","setPassword","message","setMessage","isSignedUp","setIsSignedUp","handleSubmit","e","preventDefault","response","post","err","_err$response","_err$response$data","data","children","onSubmit","type","placeholder","value","onChange","target","to"],"sources":["/Users/ahamedfoisal/Documents/GitHub/final-project-ahamedfoisal/client/src/components/SignUp.js"],"sourcesContent":["//client/src/components/SignUp.js\nimport React, { useState } from 'react';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport api from '../api';\n\nfunction SignUp() {\n  const [searchParams] = useSearchParams();\n  const role = searchParams.get('role');\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const [isSignedUp, setIsSignedUp] = useState(false); // State to track signup status\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await api.post('/auth/signup', { name, email, password, role });\n      setMessage('Signup successful! You can now log in.');\n      setIsSignedUp(true); // Mark signup as successful\n    } catch (err) {\n      setMessage(err.response?.data?.message || 'Signup failed');\n      setIsSignedUp(false); // Reset signup status if it fails\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <h2>Sign Up as {role}</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button type=\"submit\">Sign Up</button>\n      </form>\n      {message && <p>{message}</p>}\n\n      {/* Conditionally render the login link */}\n      {isSignedUp && (\n        <p>\n          <Link to={`/login?role=${role}`}>Click here to login</Link>\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport default SignUp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}